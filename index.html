<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí™ Gym Tracker - Kamila & Ramon</title>
    
    <!-- React, ReactDOM e Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Recharts -->
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom right, #0f172a, #1e293b, #0f172a);
            min-height: 100vh;
            color: white;
        }
        
        .title-font {
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            letter-spacing: -0.02em;
        }
        
        .card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.9));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
        }
        
        .gradient-kamila {
            background: linear-gradient(135deg, #ec4899 0%, #f43f5e 100%);
        }
        
        .gradient-ramon {
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .btn-primary {
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
            font-family: inherit;
            color: white;
        }
        
        .btn-primary:active {
            transform: scale(0.95);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .calendar-day {
            transition: all 0.2s ease;
        }
        
        .calendar-day:hover {
            transform: scale(1.05);
        }
        
        input:focus {
            outline: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } = Recharts;
        
        // Simula√ß√£o do window.storage para desenvolvimento local
        const storage = {
            data: {},
            async get(key) {
                const value = localStorage.getItem(key);
                return value ? { key, value } : null;
            },
            async set(key, value) {
                localStorage.setItem(key, value);
                return { key, value };
            }
        };
        
        if (!window.storage) {
            window.storage = storage;
        }

        const GymTracker = () => {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [showWeightModal, setShowWeightModal] = useState(false);
            const [selectedPerson, setSelectedPerson] = useState(null);
            const [tempWeight, setTempWeight] = useState('');
            const [data, setData] = useState({});
            const [loading, setLoading] = useState(true);
            const [viewMode, setViewMode] = useState('dashboard');

            useEffect(() => {
                loadData();
            }, []);

            useEffect(() => {
                lucide.createIcons();
            }, [viewMode, showWeightModal]);

            const loadData = async () => {
                try {
                    const result = await window.storage.get('gym-tracker-data');
                    if (result) {
                        setData(JSON.parse(result.value));
                    }
                } catch (error) {
                    console.log('Iniciando com dados vazios');
                } finally {
                    setLoading(false);
                }
            };

            const saveData = async (newData) => {
                try {
                    await window.storage.set('gym-tracker-data', JSON.stringify(newData));
                    setData(newData);
                } catch (error) {
                    console.error('Erro ao salvar:', error);
                }
            };

            const getDateKey = (date) => {
                return date.toISOString().split('T')[0];
            };

            const toggleGym = async (person) => {
                const dateKey = getDateKey(currentDate);
                const newData = { ...data };
                
                if (!newData[dateKey]) {
                    newData[dateKey] = {
                        kamilaGym: false,
                        ramonGym: false,
                        kamilaWeight: null,
                        ramonWeight: null
                    };
                }
                
                if (person === 'kamila') {
                    newData[dateKey].kamilaGym = !newData[dateKey].kamilaGym;
                } else {
                    newData[dateKey].ramonGym = !newData[dateKey].ramonGym;
                }
                
                await saveData(newData);
            };

            const openWeightModal = (person) => {
                setSelectedPerson(person);
                const dateKey = getDateKey(currentDate);
                const currentWeight = data[dateKey]?.[`${person}Weight`] || '';
                setTempWeight(currentWeight);
                setShowWeightModal(true);
            };

            const saveWeight = async () => {
                if (!tempWeight || isNaN(tempWeight)) return;
                
                const dateKey = getDateKey(currentDate);
                const newData = { ...data };
                
                if (!newData[dateKey]) {
                    newData[dateKey] = {
                        kamilaGym: false,
                        ramonGym: false,
                        kamilaWeight: null,
                        ramonWeight: null
                    };
                }
                
                newData[dateKey][`${selectedPerson}Weight`] = parseFloat(tempWeight);
                await saveData(newData);
                setShowWeightModal(false);
                setTempWeight('');
            };

            const calculateStats = () => {
                const today = getDateKey(currentDate);
                const todayData = data[today] || { kamilaGym: false, ramonGym: false };
                
                let kamilaTotal = 0, ramonTotal = 0;
                let kamilaDays = 0, ramonDays = 0;
                const entries = Object.keys(data);
                
                entries.forEach(key => {
                    if (data[key].kamilaGym) kamilaTotal++;
                    if (data[key].ramonGym) ramonTotal++;
                });
                
                kamilaDays = entries.filter(k => data[k].kamilaGym).length;
                ramonDays = entries.filter(k => data[k].ramonGym).length;
                
                const sortedKeys = entries.sort().reverse();
                let lastKamilaWeight = null, lastRamonWeight = null;
                
                for (let key of sortedKeys) {
                    if (!lastKamilaWeight && data[key].kamilaWeight) {
                        lastKamilaWeight = data[key].kamilaWeight;
                    }
                    if (!lastRamonWeight && data[key].ramonWeight) {
                        lastRamonWeight = data[key].ramonWeight;
                    }
                    if (lastKamilaWeight && lastRamonWeight) break;
                }
                
                return {
                    todayKamila: todayData.kamilaGym,
                    todayRamon: todayData.ramonGym,
                    kamilaTotal,
                    ramonTotal,
                    kamilaDays,
                    ramonDays,
                    lastKamilaWeight,
                    lastRamonWeight
                };
            };

            const getMonthData = () => {
                const year = currentDate.getFullYear();
                const month = currentDate.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                
                const days = [];
                for (let d = new Date(firstDay); d <= lastDay; d.setDate(d.getDate() + 1)) {
                    const dateKey = getDateKey(new Date(d));
                    const dayData = data[dateKey] || { kamilaGym: false, ramonGym: false };
                    days.push({
                        date: new Date(d),
                        dateKey,
                        ...dayData
                    });
                }
                return days;
            };

            const getWeightChartData = () => {
                const entries = Object.keys(data).sort().slice(-30);
                return entries.map(key => ({
                    date: new Date(key).toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' }),
                    Kamila: data[key].kamilaWeight || null,
                    Ramon: data[key].ramonWeight || null
                })).filter(d => d.Kamila !== null || d.Ramon !== null);
            };

            const getFrequencyChartData = () => {
                const monthNames = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
                const monthlyData = {};
                
                Object.keys(data).forEach(key => {
                    const date = new Date(key);
                    const monthKey = `${monthNames[date.getMonth()]}/${date.getFullYear().toString().slice(-2)}`;
                    
                    if (!monthlyData[monthKey]) {
                        monthlyData[monthKey] = { month: monthKey, Kamila: 0, Ramon: 0 };
                    }
                    
                    if (data[key].kamilaGym) monthlyData[monthKey].Kamila++;
                    if (data[key].ramonGym) monthlyData[monthKey].Ramon++;
                });
                
                return Object.values(monthlyData).slice(-12);
            };

            const changeDate = (days) => {
                const newDate = new Date(currentDate);
                newDate.setDate(newDate.getDate() + days);
                setCurrentDate(newDate);
            };

            const changeMonth = (months) => {
                const newDate = new Date(currentDate);
                newDate.setMonth(newDate.getMonth() + months);
                setCurrentDate(newDate);
            };

            const stats = calculateStats();
            const monthData = getMonthData();

            if (loading) {
                return (
                    <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                        <div style={{ fontSize: '2rem', animation: 'fadeInUp 1s infinite' }}>Carregando...</div>
                    </div>
                );
            }

            return (
                <div style={{ minHeight: '100vh', padding: '2rem' }}>
                    <div style={{ maxWidth: '1280px', margin: '0 auto' }}>
                        {/* Header */}
                        <div className="animate-fade-in" style={{ marginBottom: '2rem' }}>
                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem', flexWrap: 'wrap', gap: '1rem' }}>
                                <div>
                                    <h1 className="title-font" style={{ 
                                        fontSize: 'clamp(2.5rem, 5vw, 4rem)', 
                                        marginBottom: '0.5rem',
                                        background: 'linear-gradient(to right, #ec4899, #a855f7, #06b6d4)',
                                        WebkitBackgroundClip: 'text',
                                        WebkitTextFillColor: 'transparent',
                                        backgroundClip: 'text'
                                    }}>
                                        üí™ Gym Tracker
                                    </h1>
                                    <p style={{ color: '#94a3b8', fontSize: '1.125rem' }}>
                                        Kamila & Ramon ‚Ä¢ Melhor Casal do Mundo üèÜ
                                    </p>
                                </div>
                                <div style={{ display: 'flex', gap: '0.5rem' }}>
                                    <button
                                        onClick={() => setViewMode('dashboard')}
                                        className={`btn-primary ${viewMode === 'dashboard' ? 'gradient-ramon' : 'glass'}`}
                                        style={{ padding: '0.75rem', borderRadius: '0.75rem' }}
                                    >
                                        <i data-lucide="dumbbell" style={{ width: '24px', height: '24px' }}></i>
                                    </button>
                                    <button
                                        onClick={() => setViewMode('calendar')}
                                        className={`btn-primary ${viewMode === 'calendar' ? 'gradient-ramon' : 'glass'}`}
                                        style={{ padding: '0.75rem', borderRadius: '0.75rem' }}
                                    >
                                        <i data-lucide="calendar" style={{ width: '24px', height: '24px' }}></i>
                                    </button>
                                    <button
                                        onClick={() => setViewMode('charts')}
                                        className={`btn-primary ${viewMode === 'charts' ? 'gradient-ramon' : 'glass'}`}
                                        style={{ padding: '0.75rem', borderRadius: '0.75rem' }}
                                    >
                                        <i data-lucide="trending-up" style={{ width: '24px', height: '24px' }}></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        {viewMode === 'dashboard' && (
                            <div className="animate-fade-in" style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
                                {/* Data Atual */}
                                <div className="card" style={{ borderRadius: '1rem', padding: '1.5rem' }}>
                                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', flexWrap: 'wrap', gap: '1rem' }}>
                                        <button
                                            onClick={() => changeDate(-1)}
                                            className="btn-primary glass"
                                            style={{ padding: '0.5rem', borderRadius: '0.5rem' }}
                                        >
                                            <i data-lucide="chevron-left" style={{ width: '24px', height: '24px' }}></i>
                                        </button>
                                        <h2 className="title-font" style={{ fontSize: 'clamp(1.25rem, 3vw, 1.875rem)', textAlign: 'center', flex: 1 }}>
                                            {currentDate.toLocaleDateString('pt-BR', { 
                                                weekday: 'long', 
                                                year: 'numeric', 
                                                month: 'long', 
                                                day: 'numeric' 
                                            })}
                                        </h2>
                                        <button
                                            onClick={() => changeDate(1)}
                                            className="btn-primary glass"
                                            style={{ padding: '0.5rem', borderRadius: '0.5rem' }}
                                            disabled={getDateKey(currentDate) >= getDateKey(new Date())}
                                        >
                                            <i data-lucide="chevron-right" style={{ width: '24px', height: '24px' }}></i>
                                        </button>
                                    </div>
                                </div>

                                {/* Check-in Cards */}
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem' }}>
                                    {/* Kamila */}
                                    <div className="card" style={{ borderRadius: '1rem', padding: '2rem', position: 'relative', overflow: 'hidden' }}>
                                        <div style={{ 
                                            position: 'absolute', 
                                            top: 0, 
                                            right: 0, 
                                            width: '8rem', 
                                            height: '8rem', 
                                            background: 'linear-gradient(135deg, #ec4899, #f43f5e)',
                                            opacity: 0.2,
                                            filter: 'blur(60px)',
                                            borderRadius: '50%'
                                        }}></div>
                                        <div style={{ position: 'relative', zIndex: 10 }}>
                                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem' }}>
                                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>
                                                    <div className="gradient-kamila" style={{ 
                                                        width: '3rem', 
                                                        height: '3rem', 
                                                        borderRadius: '50%', 
                                                        display: 'flex', 
                                                        alignItems: 'center', 
                                                        justifyContent: 'center' 
                                                    }}>
                                                        <i data-lucide="user" style={{ width: '24px', height: '24px' }}></i>
                                                    </div>
                                                    <h3 className="title-font" style={{ fontSize: '1.5rem' }}>Kamila</h3>
                                                </div>
                                                <i data-lucide="award" style={{ width: '32px', height: '32px', color: '#ec4899' }}></i>
                                            </div>
                                            
                                            <button
                                                onClick={() => toggleGym('kamila')}
                                                className={`btn-primary title-font ${stats.todayKamila ? 'gradient-kamila' : 'glass'}`}
                                                style={{ 
                                                    width: '100%', 
                                                    padding: '1.5rem', 
                                                    borderRadius: '0.75rem', 
                                                    marginBottom: '1rem',
                                                    fontSize: '1.5rem'
                                                }}
                                            >
                                                {stats.todayKamila ? '‚úì FOI NA ACADEMIA' : 'REGISTRAR IDA'}
                                            </button>
                                            
                                            <button
                                                onClick={() => openWeightModal('kamila')}
                                                className="btn-primary glass"
                                                style={{ width: '100%', padding: '1rem', borderRadius: '0.75rem' }}
                                            >
                                                ‚öñÔ∏è Registrar Peso: {stats.lastKamilaWeight ? `${stats.lastKamilaWeight} kg` : 'Nenhum'}
                                            </button>
                                            
                                            <div style={{ marginTop: '1.5rem', display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                                                <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem' }}>
                                                    <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.25rem' }}>Total de Idas</p>
                                                    <p className="title-font" style={{ fontSize: '1.875rem', color: '#ec4899' }}>{stats.kamilaTotal}</p>
                                                </div>
                                                <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem' }}>
                                                    <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.25rem' }}>Dias Ativos</p>
                                                    <p className="title-font" style={{ fontSize: '1.875rem', color: '#ec4899' }}>{stats.kamilaDays}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Ramon */}
                                    <div className="card" style={{ borderRadius: '1rem', padding: '2rem', position: 'relative', overflow: 'hidden' }}>
                                        <div style={{ 
                                            position: 'absolute', 
                                            top: 0, 
                                            right: 0, 
                                            width: '8rem', 
                                            height: '8rem', 
                                            background: 'linear-gradient(135deg, #06b6d4, #3b82f6)',
                                            opacity: 0.2,
                                            filter: 'blur(60px)',
                                            borderRadius: '50%'
                                        }}></div>
                                        <div style={{ position: 'relative', zIndex: 10 }}>
                                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem' }}>
                                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>
                                                    <div className="gradient-ramon" style={{ 
                                                        width: '3rem', 
                                                        height: '3rem', 
                                                        borderRadius: '50%', 
                                                        display: 'flex', 
                                                        alignItems: 'center', 
                                                        justifyContent: 'center' 
                                                    }}>
                                                        <i data-lucide="user" style={{ width: '24px', height: '24px' }}></i>
                                                    </div>
                                                    <h3 className="title-font" style={{ fontSize: '1.5rem' }}>Ramon</h3>
                                                </div>
                                                <i data-lucide="award" style={{ width: '32px', height: '32px', color: '#06b6d4' }}></i>
                                            </div>
                                            
                                            <button
                                                onClick={() => toggleGym('ramon')}
                                                className={`btn-primary title-font ${stats.todayRamon ? 'gradient-ramon' : 'glass'}`}
                                                style={{ 
                                                    width: '100%', 
                                                    padding: '1.5rem', 
                                                    borderRadius: '0.75rem', 
                                                    marginBottom: '1rem',
                                                    fontSize: '1.5rem'
                                                }}
                                            >
                                                {stats.todayRamon ? '‚úì FOI NA ACADEMIA' : 'REGISTRAR IDA'}
                                            </button>
                                            
                                            <button
                                                onClick={() => openWeightModal('ramon')}
                                                className="btn-primary glass"
                                                style={{ width: '100%', padding: '1rem', borderRadius: '0.75rem' }}
                                            >
                                                ‚öñÔ∏è Registrar Peso: {stats.lastRamonWeight ? `${stats.lastRamonWeight} kg` : 'Nenhum'}
                                            </button>
                                            
                                            <div style={{ marginTop: '1.5rem', display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                                                <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem' }}>
                                                    <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.25rem' }}>Total de Idas</p>
                                                    <p className="title-font" style={{ fontSize: '1.875rem', color: '#06b6d4' }}>{stats.ramonTotal}</p>
                                                </div>
                                                <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem' }}>
                                                    <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.25rem' }}>Dias Ativos</p>
                                                    <p className="title-font" style={{ fontSize: '1.875rem', color: '#06b6d4' }}>{stats.ramonDays}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* Quick Stats */}
                                <div className="card" style={{ borderRadius: '1rem', padding: '1.5rem' }}>
                                    <h3 className="title-font" style={{ fontSize: '1.5rem', marginBottom: '1rem' }}>üèÖ Estat√≠sticas R√°pidas</h3>
                                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1rem' }}>
                                        <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem', textAlign: 'center' }}>
                                            <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Total Combinado</p>
                                            <p className="title-font" style={{ fontSize: '1.875rem', color: '#a855f7' }}>
                                                {stats.kamilaTotal + stats.ramonTotal}
                                            </p>
                                        </div>
                                        <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem', textAlign: 'center' }}>
                                            <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.5rem' }}>M√©dia/Pessoa</p>
                                            <p className="title-font" style={{ fontSize: '1.875rem', color: '#a855f7' }}>
                                                {((stats.kamilaTotal + stats.ramonTotal) / 2).toFixed(1)}
                                            </p>
                                        </div>
                                        <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem', textAlign: 'center' }}>
                                            <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Dias Registrados</p>
                                            <p className="title-font" style={{ fontSize: '1.875rem', color: '#a855f7' }}>
                                                {Object.keys(data).length}
                                            </p>
                                        </div>
                                        <div className="glass" style={{ padding: '1rem', borderRadius: '0.75rem', textAlign: 'center' }}>
                                            <p style={{ color: '#94a3b8', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Hoje</p>
                                            <p className="title-font" style={{ fontSize: '1.875rem' }}>
                                                {stats.todayKamila && stats.todayRamon ? 'üí™üí™' : 
                                                 stats.todayKamila || stats.todayRamon ? 'üí™' : 'üò¥'}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {viewMode === 'calendar' && (
                            <div className="card animate-fade-in" style={{ borderRadius: '1rem', padding: '1.5rem' }}>
                                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem', flexWrap: 'wrap', gap: '1rem' }}>
                                    <h2 className="title-font" style={{ fontSize: '1.875rem' }}>
                                        {currentDate.toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' })}
                                    </h2>
                                    <div style={{ display: 'flex', gap: '0.5rem' }}>
                                        <button
                                            onClick={() => changeMonth(-1)}
                                            className="btn-primary glass"
                                            style={{ padding: '0.5rem', borderRadius: '0.5rem' }}
                                        >
                                            <i data-lucide="chevron-left" style={{ width: '24px', height: '24px' }}></i>
                                        </button>
                                        <button
                                            onClick={() => setCurrentDate(new Date())}
                                            className="btn-primary glass"
                                            style={{ padding: '0.5rem 1rem', borderRadius: '0.5rem' }}
                                        >
                                            Hoje
                                        </button>
                                        <button
                                            onClick={() => changeMonth(1)}
                                            className="btn-primary glass"
                                            style={{ padding: '0.5rem', borderRadius: '0.5rem' }}
                                        >
                                            <i data-lucide="chevron-right" style={{ width: '24px', height: '24px' }}></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: '0.5rem' }}>
                                    {['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'].map(day => (
                                        <div key={day} style={{ textAlign: 'center', color: '#94a3b8', fontWeight: 600, padding: '0.5rem' }}>
                                            {day}
                                        </div>
                                    ))}
                                    
                                    {Array.from({ length: monthData[0]?.date.getDay() || 0 }).map((_, i) => (
                                        <div key={`empty-${i}`} />
                                    ))}
                                    
                                    {monthData.map((day) => (
                                        <div
                                            key={day.dateKey}
                                            className={`calendar-day btn-primary ${
                                                day.kamilaGym && day.ramonGym
                                                    ? 'gradient-ramon'
                                                    : day.kamilaGym
                                                    ? 'gradient-kamila'
                                                    : day.ramonGym
                                                    ? 'gradient-ramon'
                                                    : 'glass'
                                            }`}
                                            style={{ 
                                                padding: '0.75rem', 
                                                borderRadius: '0.75rem', 
                                                textAlign: 'center',
                                                background: day.kamilaGym && day.ramonGym 
                                                    ? 'linear-gradient(to bottom right, #ec4899, #06b6d4)' 
                                                    : day.kamilaGym 
                                                    ? 'rgba(236, 72, 153, 0.7)' 
                                                    : day.ramonGym 
                                                    ? 'rgba(6, 182, 212, 0.7)' 
                                                    : 'rgba(255, 255, 255, 0.05)'
                                            }}
                                            onClick={() => setCurrentDate(new Date(day.date))}
                                        >
                                            <div style={{ fontWeight: 600 }}>
                                                {day.date.getDate()}
                                            </div>
                                            <div style={{ fontSize: '0.75rem', marginTop: '0.25rem' }}>
                                                {day.kamilaGym && 'üí™'}
                                                {day.ramonGym && 'üí™'}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                
                                <div style={{ marginTop: '1.5rem', display: 'flex', flexWrap: 'wrap', gap: '1rem', justifyContent: 'center' }}>
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <div style={{ width: '1rem', height: '1rem', borderRadius: '0.25rem', background: '#ec4899' }}></div>
                                        <span style={{ fontSize: '0.875rem' }}>Kamila</span>
                                    </div>
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <div style={{ width: '1rem', height: '1rem', borderRadius: '0.25rem', background: '#06b6d4' }}></div>
                                        <span style={{ fontSize: '0.875rem' }}>Ramon</span>
                                    </div>
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <div style={{ width: '1rem', height: '1rem', borderRadius: '0.25rem', background: 'linear-gradient(to right, #ec4899, #06b6d4)' }}></div>
                                        <span style={{ fontSize: '0.875rem' }}>Ambos</span>
                                    </div>
                                </div>
                            </div>
                        )}

                        {viewMode === 'charts' && (
                            <div className="animate-fade-in" style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
                                {/* Evolu√ß√£o de Peso */}
                                <div className="card" style={{ borderRadius: '1rem', padding: '1.5rem' }}>
                                    <h2 className="title-font" style={{ fontSize: '1.5rem', marginBottom: '1.5rem' }}>
                                        üìä Evolu√ß√£o de Peso (√öltimos 30 dias)
                                    </h2>
                                    <ResponsiveContainer width="100%" height={300}>
                                        <LineChart data={getWeightChartData()}>
                                            <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
                                            <XAxis dataKey="date" stroke="#94a3b8" />
                                            <YAxis stroke="#94a3b8" domain={['dataMin - 2', 'dataMax + 2']} />
                                            <Tooltip 
                                                contentStyle={{ 
                                                    backgroundColor: '#1e293b', 
                                                    border: '1px solid #334155',
                                                    borderRadius: '8px'
                                                }} 
                                            />
                                            <Legend />
                                            <Line 
                                                type="monotone" 
                                                dataKey="Kamila" 
                                                stroke="#ec4899" 
                                                strokeWidth={3}
                                                dot={{ fill: '#ec4899', r: 4 }}
                                            />
                                            <Line 
                                                type="monotone" 
                                                dataKey="Ramon" 
                                                stroke="#06b6d4" 
                                                strokeWidth={3}
                                                dot={{ fill: '#06b6d4', r: 4 }}
                                            />
                                        </LineChart>
                                    </ResponsiveContainer>
                                </div>

                                {/* Frequ√™ncia Mensal */}
                                <div className="card" style={{ borderRadius: '1rem', padding: '1.5rem' }}>
                                    <h2 className="title-font" style={{ fontSize: '1.5rem', marginBottom: '1.5rem' }}>
                                        üìà Frequ√™ncia Mensal
                                    </h2>
                                    <ResponsiveContainer width="100%" height={300}>
                                        <BarChart data={getFrequencyChartData()}>
                                            <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
                                            <XAxis dataKey="month" stroke="#94a3b8" />
                                            <YAxis stroke="#94a3b8" />
                                            <Tooltip 
                                                contentStyle={{ 
                                                    backgroundColor: '#1e293b', 
                                                    border: '1px solid #334155',
                                                    borderRadius: '8px'
                                                }} 
                                            />
                                            <Legend />
                                            <Bar dataKey="Kamila" fill="#ec4899" radius={[8, 8, 0, 0]} />
                                            <Bar dataKey="Ramon" fill="#06b6d4" radius={[8, 8, 0, 0]} />
                                        </BarChart>
                                    </ResponsiveContainer>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Modal de Peso */}
                    {showWeightModal && (
                        <div style={{ 
                            position: 'fixed', 
                            inset: 0, 
                            background: 'rgba(0, 0, 0, 0.7)', 
                            backdropFilter: 'blur(8px)',
                            display: 'flex', 
                            alignItems: 'center', 
                            justifyContent: 'center',
                            zIndex: 50,
                            padding: '1rem'
                        }}>
                            <div className="card animate-fade-in" style={{ borderRadius: '1rem', padding: '2rem', maxWidth: '28rem', width: '100%' }}>
                                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem' }}>
                                    <h3 className="title-font" style={{ fontSize: '1.5rem' }}>
                                        Peso - {selectedPerson === 'kamila' ? 'Kamila' : 'Ramon'}
                                    </h3>
                                    <button
                                        onClick={() => setShowWeightModal(false)}
                                        className="btn-primary glass"
                                        style={{ padding: '0.5rem', borderRadius: '0.5rem' }}
                                    >
                                        <i data-lucide="x" style={{ width: '24px', height: '24px' }}></i>
                                    </button>
                                </div>
                                
                                <input
                                    type="number"
                                    step="0.1"
                                    value={tempWeight}
                                    onChange={(e) => setTempWeight(e.target.value)}
                                    placeholder="Digite o peso em kg"
                                    className="glass"
                                    style={{ 
                                        width: '100%', 
                                        padding: '1rem', 
                                        borderRadius: '0.75rem',
                                        border: '1px solid rgba(255, 255, 255, 0.2)',
                                        color: 'white',
                                        fontSize: '1.25rem',
                                        marginBottom: '1.5rem',
                                        background: 'rgba(255, 255, 255, 0.05)'
                                    }}
                                    autoFocus
                                />
                                
                                <div style={{ display: 'flex', gap: '0.75rem' }}>
                                    <button
                                        onClick={() => setShowWeightModal(false)}
                                        className="btn-primary glass"
                                        style={{ flex: 1, padding: '1rem', borderRadius: '0.75rem' }}
                                    >
                                        Cancelar
                                    </button>
                                    <button
                                        onClick={saveWeight}
                                        className={`btn-primary ${selectedPerson === 'kamila' ? 'gradient-kamila' : 'gradient-ramon'}`}
                                        style={{ 
                                            flex: 1, 
                                            padding: '1rem', 
                                            borderRadius: '0.75rem',
                                            display: 'flex',
                                            alignItems: 'center',
                                            justifyContent: 'center',
                                            gap: '0.5rem'
                                        }}
                                    >
                                        <i data-lucide="save" style={{ width: '20px', height: '20px' }}></i>
                                        Salvar
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GymTracker />);
    </script>
</body>
</html>
